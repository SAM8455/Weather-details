<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
    </style>
  </head>

  <body
    class="text-light"
    style="background-color: #0e102a; font-family: 'Exo 2', sans-serif"
  >
    <h2 class="text-center mt-4 fw-bold">
      <i class="bi bi-cloud-sun-fill text-info me-2"></i>Weather Dashboard
    </h2>

    <!-- Search Bar ------------------------ -->
    <div class="text-center mt-4">
      <div class="input-group w-50 mx-auto shadow-sm">
        <input
          id="inputCity"
          type="search"
          class="form-control rounded-start-pill"
          placeholder="Search weather by city..."
        />
        <button
          class="btn text-white rounded-end-pill px-4"
          style="background-color: #151a44; border: 1px solid white"
          onclick="loadDetails()"
        >
          <i class="bi bi-search"></i>
        </button>
      </div>
    </div>

    <!-- Weather Card ---------------------------------->
    <div
      class="container mt-5 p-4 rounded-4 shadow"
      style="background-color: #151a44"
    >
      <div class="row align-items-center px-md-4">
        <!-- Location Info -->
        <div class="col-md-6 mb-4 mb-md-0">
          <p class="text-primary mb-1">
            <i class="bi bi-geo-alt-fill"></i> Current Location
          </p>
          <h1 id="lblCity" class="fw-bold">San Francisco, CA</h1>
          <h5 id="date" class="text-secondary mt-3 bi bi-calendar3">
            Monday, 12 Oct
          </h5>
        </div>

        <!-- Temperature -->
        <div
          class="col-md-6 text-md-end d-flex justify-content-md-end align-items-center gap-3"
        >
          <h1 id="lblTemp" class="display-3 fw-bold">72&deg;c</h1>
          <i
            class="bi bi-cloud-sun-fill text-warning"
            style="font-size: 4rem"
          ></i>
        </div>
      </div>

      <hr class="text-light" />

      <!-- Extra Info --------------------------- -->
      <div class="row px-md-4 mt-5">
        <div class="col-md-6">
          <div class="row g-3">
            <!-- Feels Like -->
            <div class="col-6">
              <div
                class="p-3 rounded-3 text-center"
                style="background-color: #1e245e"
              >
                <i class="bi bi-thermometer-half text-warning fs-4"></i>
                <p class="mb-1 small text-secondary">Feels Like</p>
                <h6 id="lblFeelLike" class="fw-bold mb-0">74&deg;c</h6>
              </div>
            </div>

            <!-- Wind -->
            <div class="col-6">
              <div
                class="p-3 rounded-3 text-center"
                style="background-color: #1e245e"
              >
                <i class="bi bi-wind text-info fs-4"></i>
                <p class="mb-1 small text-secondary">Wind</p>
                <h6 id="lblWind" class="fw-bold mb-0">10 km/h</h6>
              </div>
            </div>

            <!-- Humidity -->
            <div class="col-6">
              <div
                class="p-3 rounded-3 text-center"
                style="background-color: #1e245e"
              >
                <i class="bi bi-droplet-half text-primary fs-4"></i>
                <p class="mb-1 small text-secondary">Humidity</p>
                <h6 id="lblHumidity" class="fw-bold mb-0">65%</h6>
              </div>
            </div>

            <!-- Pressure -->
            <div class="col-6">
              <div
                class="p-3 rounded-3 text-center"
                style="background-color: #1e245e"
              >
                <i class="bi bi-speedometer2 text-success fs-4"></i>
                <p class="mb-1 small text-secondary">Pressure</p>
                <h6 id="lblPressure" class="fw-bold mb-0">1015 hPa</h6>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 text-start ps-3">
          <h5 class="text-info">Weather History</h5>
          <ul id="lblHistory" class="list-unstyled"></ul>
        </div>
      </div>
    </div>

    <!-- scripttt -->
    <script>
      const API_KEYS = "244099237384644efc3c7a80d3280e6d";

const today = new Date();
document.getElementById("date").innerHTML = ` ${today.toLocaleDateString(
    "en-GB",
    {
        weekday: "long",
        day: "numeric",
        month: "short",
    }
)}`;

let weatherHistory = [];

function loadDetails() {
    let cityName = document.getElementById("inputCity").value;

    fetch(
        `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${API_KEYS}&units=metric`
    )
        .then((res) => res.json())
        .then((weatherData) => {
            weatherHistory.push(`${weatherData.name} ${weatherData.main.temp}Â°c`);

            document.getElementById("lblCity").innerHTML = weatherData.name;
            document.getElementById("lblTemp").innerHTML = `${weatherData.main.temp}&deg;c`;
            document.getElementById("lblFeelLike").innerHTML = `${weatherData.main.feels_like}&deg;c`;
            document.getElementById("lblWind").innerHTML = `${weatherData.wind.speed} km/h`;
            document.getElementById("lblHumidity").innerHTML = `${weatherData.main.humidity}%`;
            document.getElementById("lblPressure").innerHTML = `${weatherData.main.pressure} hPa`;

            const history = document.getElementById("lblHistory");
            history.innerHTML = "";

            weatherHistory.forEach((value) => {
                let li = document.createElement("li");
                li.innerHTML = value;
                li.style.backgroundColor = "#042160ff";
                li.className = "p-2 fs-5 rounded-2 text-center mt-2";
                history.appendChild(li);
            });
        })
        .catch((err) => console.log(err));
}

    </script>
  </body>
</html>
